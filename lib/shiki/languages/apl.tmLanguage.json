{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "apl",
    "scopeName": "source.apl",
    "fileTypes": [
        "apl",
        "apla",
        "aplc",
        "aplf",
        "apli",
        "apln",
        "aplo",
        "dyalog",
        "dyapp",
        "mipage"
    ],
    "firstLineMatch": "(?x)\n# APL symbols\n[\u2336-\u237a]\n|\n\n# Hashbang\n^\\#!.*(?:\\s|\\/|(?<=!)\\b)\n\t(?:gnu[-._]?apl|aplx?|dyalog)\n(?:$|\\s)\n|\n\n# Modeline\n(?i:\n\t# Emacs\n\t-\\*-(?:\\s*(?=[^:;\\s]+\\s*-\\*-)|(?:.*?[;\\s]|(?<=-\\*-))mode\\s*:\\s*)\n\t\tapl\n\t(?=[\\s;]|(?<![-*])-\\*-).*?-\\*-\n\n\t|\n\n\t# Vim\n\t(?:(?:\\s|^)vi(?:m[<=>]?\\d+|m)?|\\sex)(?=:(?=\\s*set?\\s[^\\n:]+:)|:(?!\\s* set?\\s))(?:(?:\\s|\\s*:\\s*)\\w*(?:\\s*=(?:[^\\n\\\\\\s]|\\\\.)*)?)*[\\s:](?:filetype|ft|syntax)\\s*=\n\t\tapl\n\t(?=\\s|:|$)\n)",
    "foldingStartMarker": "{",
    "foldingStopMarker": "}",
    "patterns": [
        {
            "match": "\\A#!.*$",
            "name": "comment.line.shebang.apl"
        },
        {
            "include": "#heredocs"
        },
        {
            "include": "#main"
        },
        {
            "contentName": "text.embedded.apl",
            "begin": "^\\s*((\\))OFF|(\\])NEXTFILE)\\b(.*)$",
            "end": "(?=N)A",
            "beginCaptures": {
                "1": {
                    "name": "entity.name.command.eof.apl"
                },
                "2": {
                    "name": "punctuation.definition.command.apl"
                },
                "3": {
                    "name": "punctuation.definition.command.apl"
                },
                "4": {
                    "patterns": [
                        {
                            "include": "#comment"
                        }
                    ]
                }
            }
        },
        {
            "name": "meta.round.bracketed.group.apl",
            "patterns": [
                {
                    "include": "#main"
                }
            ],
            "begin": "\\(",
            "end": "\\)",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.round.bracket.begin.apl"
                }
            },
            "endCaptures": {
                "0": {
                    "name": "punctuation.round.bracket.end.apl"
                }
            }
        },
        {
            "name": "meta.square.bracketed.group.apl",
            "patterns": [
                {
                    "include": "#main"
                }
            ],
            "begin": "\\[",
            "end": "\\]",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.square.bracket.begin.apl"
                }
            },
            "endCaptures": {
                "0": {
                    "name": "punctuation.square.bracket.end.apl"
                }
            }
        },
        {
            "name": "meta.system.command.apl",
            "begin": "^\\s*((\\))\\S+)",
            "end": "$",
            "beginCaptures": {
                "1": {
                    "name": "entity.name.command.apl"
                },
                "2": {
                    "name": "punctuation.definition.command.apl"
                }
            },
            "patterns": [
                {
                    "include": "#command-arguments"
                },
                {
                    "include": "#command-switches"
                },
                {
                    "include": "#main"
                }
            ]
        },
        {
            "name": "meta.user.command.apl",
            "begin": "^\\s*((\\])\\S+)",
            "end": "$",
            "beginCaptures": {
                "1": {
                    "name": "entity.name.command.apl"
                },
                "2": {
                    "name": "punctuation.definition.command.apl"
                }
            },
            "patterns": [
                {
                    "include": "#command-arguments"
                },
                {
                    "include": "#command-switches"
                },
                {
                    "include": "#main"
                }
            ]
        }
    ],
    "repository": {
        "main": {
            "patterns": [
                {
                    "include": "#class"
                },
                {
                    "include": "#definition"
                },
                {
                    "include": "#comment"
                },
                {
                    "include": "#label"
                },
                {
                    "include": "#sck"
                },
                {
                    "include": "#strings"
                },
                {
                    "include": "#number"
                },
                {
                    "include": "#lambda"
                },
                {
                    "include": "#sysvars"
                },
                {
                    "include": "#symbols"
                },
                {
                    "include": "#name"
                }
            ]
        },
        "comment": {
            "patterns": [
                {
                    "name": "comment.line.apl",
                    "begin": "\u235d",
                    "end": "$",
                    "captures": {
                        "0": {
                            "name": "punctuation.definition.comment.apl"
                        }
                    }
                }
            ]
        },
        "number": {
            "patterns": [
                {
                    "name": "constant.numeric.apl",
                    "match": "\u00af?[0-9][\u00af0-9A-Za-z]*(?:\\.[\u00af0-9Ee][\u00af0-9A-Za-z]*)*|\u00af?\\.[0-9Ee][\u00af0-9A-Za-z]*"
                }
            ]
        },
        "strings": {
            "patterns": [
                {
                    "name": "string.quoted.single.apl",
                    "begin": "'",
                    "end": "'|$",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.begin.apl"
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.end.apl"
                        }
                    },
                    "patterns": [
                        {
                            "match": "[^']*[^'\\n\\r\\\\]$",
                            "name": "invalid.illegal.string.apl"
                        }
                    ]
                },
                {
                    "name": "string.quoted.double.apl",
                    "begin": "\"",
                    "end": "\"|$",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.begin.apl"
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.end.apl"
                        }
                    },
                    "patterns": [
                        {
                            "match": "[^\"]*[^\"\\n\\r\\\\]$",
                            "name": "invalid.illegal.string.apl"
                        }
                    ]
                }
            ]
        },
        "name": {
            "patterns": [
                {
                    "name": "variable.other.readwrite.apl",
                    "match": "(?x)\n[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*"
                }
            ]
        },
        "label": {
            "patterns": [
                {
                    "name": "meta.label.apl",
                    "match": "(?x)\n^\\s*\n(\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n)\n(:)",
                    "captures": {
                        "1": {
                            "name": "entity.label.name.apl"
                        },
                        "2": {
                            "name": "punctuation.definition.label.end.apl"
                        }
                    }
                }
            ]
        },
        "symbols": {
            "patterns": [
                {
                    "match": "(?<=\\s)\u2190(?=\\s|$)",
                    "name": "keyword.spaced.operator.assignment.apl"
                },
                {
                    "match": "(?<=\\s)\u2192(?=\\s|$)",
                    "name": "keyword.spaced.control.goto.apl"
                },
                {
                    "match": "(?<=\\s)\u2261(?=\\s|$)",
                    "name": "keyword.spaced.operator.identical.apl"
                },
                {
                    "match": "(?<=\\s)\u2262(?=\\s|$)",
                    "name": "keyword.spaced.operator.not-identical.apl"
                },
                {
                    "match": "\\+",
                    "name": "keyword.operator.plus.apl"
                },
                {
                    "match": "[-\u2212]",
                    "name": "keyword.operator.minus.apl"
                },
                {
                    "match": "\u00d7",
                    "name": "keyword.operator.times.apl"
                },
                {
                    "match": "\u00f7",
                    "name": "keyword.operator.divide.apl"
                },
                {
                    "match": "\u230a",
                    "name": "keyword.operator.floor.apl"
                },
                {
                    "match": "\u2308",
                    "name": "keyword.operator.ceiling.apl"
                },
                {
                    "match": "[\u2223|]",
                    "name": "keyword.operator.absolute.apl"
                },
                {
                    "match": "[\u22c6*]",
                    "name": "keyword.operator.exponent.apl"
                },
                {
                    "match": "\u235f",
                    "name": "keyword.operator.logarithm.apl"
                },
                {
                    "match": "\u25cb",
                    "name": "keyword.operator.circle.apl"
                },
                {
                    "match": "!",
                    "name": "keyword.operator.factorial.apl"
                },
                {
                    "match": "\u2227",
                    "name": "keyword.operator.and.apl"
                },
                {
                    "match": "\u2228",
                    "name": "keyword.operator.or.apl"
                },
                {
                    "match": "\u2372",
                    "name": "keyword.operator.nand.apl"
                },
                {
                    "match": "\u2371",
                    "name": "keyword.operator.nor.apl"
                },
                {
                    "match": "<",
                    "name": "keyword.operator.less.apl"
                },
                {
                    "match": "\u2264",
                    "name": "keyword.operator.less-or-equal.apl"
                },
                {
                    "match": "=",
                    "name": "keyword.operator.equal.apl"
                },
                {
                    "match": "\u2265",
                    "name": "keyword.operator.greater-or-equal.apl"
                },
                {
                    "match": ">",
                    "name": "keyword.operator.greater.apl"
                },
                {
                    "match": "\u2260",
                    "name": "keyword.operator.not-equal.apl"
                },
                {
                    "match": "[\u223c~]",
                    "name": "keyword.operator.tilde.apl"
                },
                {
                    "match": "\\?",
                    "name": "keyword.operator.random.apl"
                },
                {
                    "match": "[\u220a\u2208]",
                    "name": "keyword.operator.member-of.apl"
                },
                {
                    "match": "\u2377",
                    "name": "keyword.operator.find.apl"
                },
                {
                    "match": ",",
                    "name": "keyword.operator.comma.apl"
                },
                {
                    "match": "\u236a",
                    "name": "keyword.operator.comma-bar.apl"
                },
                {
                    "match": "\u2337",
                    "name": "keyword.operator.squad.apl"
                },
                {
                    "match": "\u2373",
                    "name": "keyword.operator.iota.apl"
                },
                {
                    "match": "\u2374",
                    "name": "keyword.operator.rho.apl"
                },
                {
                    "match": "\u2191",
                    "name": "keyword.operator.take.apl"
                },
                {
                    "match": "\u2193",
                    "name": "keyword.operator.drop.apl"
                },
                {
                    "match": "\u22a3",
                    "name": "keyword.operator.left.apl"
                },
                {
                    "match": "\u22a2",
                    "name": "keyword.operator.right.apl"
                },
                {
                    "match": "\u22a4",
                    "name": "keyword.operator.encode.apl"
                },
                {
                    "match": "\u22a5",
                    "name": "keyword.operator.decode.apl"
                },
                {
                    "match": "\\/",
                    "name": "keyword.operator.slash.apl"
                },
                {
                    "match": "\u233f",
                    "name": "keyword.operator.slash-bar.apl"
                },
                {
                    "match": "\\x5C",
                    "name": "keyword.operator.backslash.apl"
                },
                {
                    "match": "\u2340",
                    "name": "keyword.operator.backslash-bar.apl"
                },
                {
                    "match": "\u233d",
                    "name": "keyword.operator.rotate-last.apl"
                },
                {
                    "match": "\u2296",
                    "name": "keyword.operator.rotate-first.apl"
                },
                {
                    "match": "\u2349",
                    "name": "keyword.operator.transpose.apl"
                },
                {
                    "match": "\u234b",
                    "name": "keyword.operator.grade-up.apl"
                },
                {
                    "match": "\u2352",
                    "name": "keyword.operator.grade-down.apl"
                },
                {
                    "match": "\u2339",
                    "name": "keyword.operator.quad-divide.apl"
                },
                {
                    "match": "\u2261",
                    "name": "keyword.operator.identical.apl"
                },
                {
                    "match": "\u2262",
                    "name": "keyword.operator.not-identical.apl"
                },
                {
                    "match": "\u2282",
                    "name": "keyword.operator.enclose.apl"
                },
                {
                    "match": "\u2283",
                    "name": "keyword.operator.pick.apl"
                },
                {
                    "match": "\u2229",
                    "name": "keyword.operator.intersection.apl"
                },
                {
                    "match": "\u222a",
                    "name": "keyword.operator.union.apl"
                },
                {
                    "match": "\u234e",
                    "name": "keyword.operator.hydrant.apl"
                },
                {
                    "match": "\u2355",
                    "name": "keyword.operator.thorn.apl"
                },
                {
                    "match": "\u2286",
                    "name": "keyword.operator.underbar-shoe-left.apl"
                },
                {
                    "match": "\u2378",
                    "name": "keyword.operator.underbar-iota.apl"
                },
                {
                    "match": "\u00a8",
                    "name": "keyword.operator.each.apl"
                },
                {
                    "match": "\u2364",
                    "name": "keyword.operator.rank.apl"
                },
                {
                    "match": "\u2338",
                    "name": "keyword.operator.quad-equal.apl"
                },
                {
                    "match": "\u2368",
                    "name": "keyword.operator.commute.apl"
                },
                {
                    "match": "\u2363",
                    "name": "keyword.operator.power.apl"
                },
                {
                    "match": "\\.",
                    "name": "keyword.operator.dot.apl"
                },
                {
                    "match": "\u2218",
                    "name": "keyword.operator.jot.apl"
                },
                {
                    "match": "\u2360",
                    "name": "keyword.operator.quad-colon.apl"
                },
                {
                    "match": "&",
                    "name": "keyword.operator.ampersand.apl"
                },
                {
                    "match": "\u2336",
                    "name": "keyword.operator.i-beam.apl"
                },
                {
                    "match": "\u233a",
                    "name": "keyword.operator.quad-diamond.apl"
                },
                {
                    "match": "@",
                    "name": "keyword.operator.at.apl"
                },
                {
                    "match": "\u25ca",
                    "name": "keyword.operator.lozenge.apl"
                },
                {
                    "match": ";",
                    "name": "keyword.operator.semicolon.apl"
                },
                {
                    "match": "\u00af",
                    "name": "keyword.operator.high-minus.apl"
                },
                {
                    "match": "\u2190",
                    "name": "keyword.operator.assignment.apl"
                },
                {
                    "match": "\u2192",
                    "name": "keyword.control.goto.apl"
                },
                {
                    "match": "\u236c",
                    "name": "constant.language.zilde.apl"
                },
                {
                    "match": "\u22c4",
                    "name": "keyword.operator.diamond.apl"
                },
                {
                    "match": "\u236b",
                    "name": "keyword.operator.lock.apl"
                },
                {
                    "match": "\u2395",
                    "name": "keyword.operator.quad.apl"
                },
                {
                    "match": "##",
                    "name": "constant.language.namespace.parent.apl"
                },
                {
                    "match": "#",
                    "name": "constant.language.namespace.root.apl"
                },
                {
                    "match": "\u233b",
                    "name": "keyword.operator.quad-jot.apl"
                },
                {
                    "match": "\u233c",
                    "name": "keyword.operator.quad-circle.apl"
                },
                {
                    "match": "\u233e",
                    "name": "keyword.operator.circle-jot.apl"
                },
                {
                    "match": "\u2341",
                    "name": "keyword.operator.quad-slash.apl"
                },
                {
                    "match": "\u2342",
                    "name": "keyword.operator.quad-backslash.apl"
                },
                {
                    "match": "\u2343",
                    "name": "keyword.operator.quad-less.apl"
                },
                {
                    "match": "\u2344",
                    "name": "keyword.operator.greater.apl"
                },
                {
                    "match": "\u2345",
                    "name": "keyword.operator.vane-left.apl"
                },
                {
                    "match": "\u2346",
                    "name": "keyword.operator.vane-right.apl"
                },
                {
                    "match": "\u2347",
                    "name": "keyword.operator.quad-arrow-left.apl"
                },
                {
                    "match": "\u2348",
                    "name": "keyword.operator.quad-arrow-right.apl"
                },
                {
                    "match": "\u234a",
                    "name": "keyword.operator.tack-down.apl"
                },
                {
                    "match": "\u234c",
                    "name": "keyword.operator.quad-caret-down.apl"
                },
                {
                    "match": "\u234d",
                    "name": "keyword.operator.quad-del-up.apl"
                },
                {
                    "match": "\u234f",
                    "name": "keyword.operator.vane-up.apl"
                },
                {
                    "match": "\u2350",
                    "name": "keyword.operator.quad-arrow-up.apl"
                },
                {
                    "match": "\u2351",
                    "name": "keyword.operator.tack-up.apl"
                },
                {
                    "match": "\u2353",
                    "name": "keyword.operator.quad-caret-up.apl"
                },
                {
                    "match": "\u2354",
                    "name": "keyword.operator.quad-del-down.apl"
                },
                {
                    "match": "\u2356",
                    "name": "keyword.operator.vane-down.apl"
                },
                {
                    "match": "\u2357",
                    "name": "keyword.operator.quad-arrow-down.apl"
                },
                {
                    "match": "\u2358",
                    "name": "keyword.operator.underbar-quote.apl"
                },
                {
                    "match": "\u235a",
                    "name": "keyword.operator.underbar-diamond.apl"
                },
                {
                    "match": "\u235b",
                    "name": "keyword.operator.underbar-jot.apl"
                },
                {
                    "match": "\u235c",
                    "name": "keyword.operator.underbar-circle.apl"
                },
                {
                    "match": "\u235e",
                    "name": "keyword.operator.quad-quote.apl"
                },
                {
                    "match": "\u2361",
                    "name": "keyword.operator.dotted-tack-up.apl"
                },
                {
                    "match": "\u2362",
                    "name": "keyword.operator.dotted-del.apl"
                },
                {
                    "match": "\u2365",
                    "name": "keyword.operator.dotted-circle.apl"
                },
                {
                    "match": "\u2366",
                    "name": "keyword.operator.stile-shoe-up.apl"
                },
                {
                    "match": "\u2367",
                    "name": "keyword.operator.stile-shoe-left.apl"
                },
                {
                    "match": "\u2369",
                    "name": "keyword.operator.dotted-greater.apl"
                },
                {
                    "match": "\u236d",
                    "name": "keyword.operator.stile-tilde.apl"
                },
                {
                    "match": "\u236e",
                    "name": "keyword.operator.underbar-semicolon.apl"
                },
                {
                    "match": "\u236f",
                    "name": "keyword.operator.quad-not-equal.apl"
                },
                {
                    "match": "\u2370",
                    "name": "keyword.operator.quad-question.apl"
                }
            ]
        },
        "definition": {
            "patterns": [
                {
                    "name": "meta.function.apl",
                    "begin": "(?x) ^\\s*? (?# 1: keyword.operator.nabla.apl) (\u2207) (?: \\s* (?: (?# 2: entity.function.return-value.apl) ( [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* ) | \\s* (?# 3: entity.function.return-value.shy.apl) ( (\\{)             (?# 4: punctuation.definition.return-value.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\})             (?# 5: punctuation.definition.return-value.end.apl) | (\\()             (?# 6: punctuation.definition.return-value.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\))             (?# 7: punctuation.definition.return-value.end.apl) | (\\(\\s*\\{)      (?# 8: punctuation.definition.return-value.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\}\\s*\\))      (?# 9: punctuation.definition.return-value.end.apl) | (\\{\\s*\\()      (?# 10: punctuation.definition.return-value.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\)\\s*\\})      (?# 11: punctuation.definition.return-value.end.apl) ) \\s* ) \\s* (?# 12: keyword.operator.assignment.apl) (\u2190) )? \\s* (?: (?# MONADIC) (?: (?# 13: entity.function.name.apl) ( [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* ) \\s* (?# 14: entity.function.axis.apl) ( (?# 15: punctuation.definition.axis.begin.apl) (\\[) \\s* (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* (?# 16: invalid.illegal.extra-characters.apl) (.*?) | (?# 17: invalid.illegal.apl) ([^\\]]*) ) \\s* (?# 18: punctuation.definition.axis.end.apl) (\\]) )? \\s*? (?# 19: entity.function.arguments.right.apl) ( (?<=\\s|\\]) [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* | (\\()   (?# 20: punctuation.definition.arguments.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\))   (?# 21: punctuation.definition.arguments.end.apl) ) \\s* (?=;|$) ) | (?# DYADIC/AMBIVALENT) (?#==================) (?: (?# 22: entity.function.arguments.left.apl) ( [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s+ ) | (?# 23: entity.function.arguments.left.optional.apl) ( (\\{)          (?# 24: punctuation.definition.arguments.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\})          (?# 25: punctuation.definition.arguments.end.apl) | (\\(\\s*\\{)   (?# 26: punctuation.definition.arguments.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\}\\s*\\))   (?# 27: punctuation.definition.arguments.end.apl) | (\\{\\s*\\()   (?# 28: punctuation.definition.arguments.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\)\\s*\\})   (?# 29: punctuation.definition.arguments.end.apl) ) )? \\s* (?: (?# 30: entity.function.name.apl) ( [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* ) \\s* (?# 31: entity.function.axis.apl) ( (?# 32: punctuation.definition.axis.begin.apl) (\\[) \\s* (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* (?# 33: invalid.illegal.extra-characters.apl) (.*?) | (?# 34: invalid.illegal.apl) ([^\\]]*) ) \\s* (?# 35: punctuation.definition.axis.end.apl) (\\]) )? | (?# 36: entity.function.operands.apl) ( (?# 37: punctuation.definition.operands.begin.apl) (\\() (?# 38: entity.function.operands.left.apl) ( \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* )? \\s* (?# 39: entity.function.name.apl) ( [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* ) \\s*? (?# 40: entity.function.axis.apl) ( (?# 41: punctuation.definition.axis.begin.apl) (\\[) \\s* (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* (?# 42: invalid.illegal.extra-characters.apl) (.*?) | (?# 43: invalid.illegal.apl) ([^\\]]*) ) \\s* (?# 44: punctuation.definition.axis.end.apl) (\\]) )? \\s* (?# 45: entity.function.operands.right.apl) ( [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )? (?# 46: punctuation.definition.operands.end.apl) (\\)) ) ) \\s* (?# 47: entity.function.arguments.right.apl) ( (?<=\\s|\\]) [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* | \\s* (\\()   (?# 48: punctuation.definition.arguments.begin.apl) (?: \\s* [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )* (\\))   (?# 49: punctuation.definition.arguments.end.apl) )? (?#==================) ) \\s* (?# 50: invalid.illegal.arguments.right.apl) ([^;]+)? (?# 51: entity.function.local-variables.apl) ( (?# 52: Include \u201c;\u201d) ( (?> \\s* ; (?: \\s* [\u2395A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf] [A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]* \\s* )+ )+ ) | (?# 53: invalid.illegal.local-variables.apl) ([^\u235d]+) )? \\s* (?# 54: comment.line.apl) (\u235d.*)? $",
                    "end": "^\\s*?(?:(\u2207)|(\u236b))\\s*?(\u235d.*?)?$",
                    "patterns": [
                        {
                            "name": "entity.function.definition.apl",
                            "match": "(?x)\n^\\s*\n(\n\t(?>\n\t\t;\n\t\t(?:\n\t\t\t\\s*\n\t\t\t[\u2395A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t\t\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n\t\t\t\\s*\n\t\t)+\n\t)+\n)",
                            "captures": {
                                "0": {
                                    "name": "entity.function.local-variables.apl"
                                },
                                "1": {
                                    "patterns": [
                                        {
                                            "name": "punctuation.separator.apl",
                                            "match": ";"
                                        }
                                    ]
                                }
                            }
                        },
                        {
                            "include": "$self"
                        }
                    ],
                    "beginCaptures": {
                        "0": {
                            "name": "entity.function.definition.apl"
                        },
                        "1": {
                            "name": "keyword.operator.nabla.apl"
                        },
                        "2": {
                            "name": "entity.function.return-value.apl"
                        },
                        "3": {
                            "name": "entity.function.return-value.shy.apl"
                        },
                        "4": {
                            "name": "punctuation.definition.return-value.begin.apl"
                        },
                        "5": {
                            "name": "punctuation.definition.return-value.end.apl"
                        },
                        "6": {
                            "name": "punctuation.definition.return-value.begin.apl"
                        },
                        "7": {
                            "name": "punctuation.definition.return-value.end.apl"
                        },
                        "8": {
                            "name": "punctuation.definition.return-value.begin.apl"
                        },
                        "9": {
                            "name": "punctuation.definition.return-value.end.apl"
                        },
                        "10": {
                            "name": "punctuation.definition.return-value.begin.apl"
                        },
                        "11": {
                            "name": "punctuation.definition.return-value.end.apl"
                        },
                        "12": {
                            "name": "keyword.operator.assignment.apl"
                        },
                        "13": {
                            "name": "entity.function.name.apl",
                            "patterns": [
                                {
                                    "include": "#embolden"
                                }
                            ]
                        },
                        "14": {
                            "name": "entity.function.axis.apl"
                        },
                        "15": {
                            "name": "punctuation.definition.axis.begin.apl"
                        },
                        "16": {
                            "name": "invalid.illegal.extra-characters.apl"
                        },
                        "17": {
                            "name": "invalid.illegal.apl"
                        },
                        "18": {
                            "name": "punctuation.definition.axis.end.apl"
                        },
                        "19": {
                            "name": "entity.function.arguments.right.apl"
                        },
                        "20": {
                            "name": "punctuation.definition.arguments.begin.apl"
                        },
                        "21": {
                            "name": "punctuation.definition.arguments.end.apl"
                        },
                        "22": {
                            "name": "entity.function.arguments.left.apl"
                        },
                        "23": {
                            "name": "entity.function.arguments.left.optional.apl"
                        },
                        "24": {
                            "name": "punctuation.definition.arguments.begin.apl"
                        },
                        "25": {
                            "name": "punctuation.definition.arguments.end.apl"
                        },
                        "26": {
                            "name": "punctuation.definition.arguments.begin.apl"
                        },
                        "27": {
                            "name": "punctuation.definition.arguments.end.apl"
                        },
                        "28": {
                            "name": "punctuation.definition.arguments.begin.apl"
                        },
                        "29": {
                            "name": "punctuation.definition.arguments.end.apl"
                        },
                        "30": {
                            "name": "entity.function.name.apl",
                            "patterns": [
                                {
                                    "include": "#embolden"
                                }
                            ]
                        },
                        "31": {
                            "name": "entity.function.axis.apl"
                        },
                        "32": {
                            "name": "punctuation.definition.axis.begin.apl"
                        },
                        "33": {
                            "name": "invalid.illegal.extra-characters.apl"
                        },
                        "34": {
                            "name": "invalid.illegal.apl"
                        },
                        "35": {
                            "name": "punctuation.definition.axis.end.apl"
                        },
                        "36": {
                            "name": "entity.function.operands.apl"
                        },
                        "37": {
                            "name": "punctuation.definition.operands.begin.apl"
                        },
                        "38": {
                            "name": "entity.function.operands.left.apl"
                        },
                        "39": {
                            "name": "entity.function.name.apl",
                            "patterns": [
                                {
                                    "include": "#embolden"
                                }
                            ]
                        },
                        "40": {
                            "name": "entity.function.axis.apl"
                        },
                        "41": {
                            "name": "punctuation.definition.axis.begin.apl"
                        },
                        "42": {
                            "name": "invalid.illegal.extra-characters.apl"
                        },
                        "43": {
                            "name": "invalid.illegal.apl"
                        },
                        "44": {
                            "name": "punctuation.definition.axis.end.apl"
                        },
                        "45": {
                            "name": "entity.function.operands.right.apl"
                        },
                        "46": {
                            "name": "punctuation.definition.operands.end.apl"
                        },
                        "47": {
                            "name": "entity.function.arguments.right.apl"
                        },
                        "48": {
                            "name": "punctuation.definition.arguments.begin.apl"
                        },
                        "49": {
                            "name": "punctuation.definition.arguments.end.apl"
                        },
                        "50": {
                            "name": "invalid.illegal.arguments.right.apl"
                        },
                        "51": {
                            "name": "entity.function.local-variables.apl"
                        },
                        "52": {
                            "patterns": [
                                {
                                    "name": "punctuation.separator.apl",
                                    "match": ";"
                                }
                            ]
                        },
                        "53": {
                            "name": "invalid.illegal.local-variables.apl"
                        },
                        "54": {
                            "name": "comment.line.apl"
                        }
                    },
                    "endCaptures": {
                        "1": {
                            "name": "keyword.operator.nabla.apl"
                        },
                        "2": {
                            "name": "keyword.operator.lock.apl"
                        },
                        "3": {
                            "name": "comment.line.apl"
                        }
                    }
                }
            ]
        },
        "embolden": {
            "patterns": [
                {
                    "name": "markup.bold.identifier.apl",
                    "match": ".+"
                }
            ]
        },
        "lambda": {
            "name": "meta.lambda.function.apl",
            "begin": "\\{",
            "end": "\\}",
            "beginCaptures": {
                "0": {
                    "name": "punctuation.definition.lambda.begin.apl"
                }
            },
            "endCaptures": {
                "0": {
                    "name": "punctuation.definition.lambda.end.apl"
                }
            },
            "patterns": [
                {
                    "include": "#main"
                },
                {
                    "include": "#lambda-variables"
                }
            ]
        },
        "lambda-variables": {
            "patterns": [
                {
                    "match": "\u237a\u237a",
                    "name": "constant.language.lambda.operands.left.apl"
                },
                {
                    "match": "\u2375\u2375",
                    "name": "constant.language.lambda.operands.right.apl"
                },
                {
                    "match": "[\u237a\u2376]",
                    "name": "constant.language.lambda.arguments.left.apl"
                },
                {
                    "match": "[\u2375\u2379]",
                    "name": "constant.language.lambda.arguments.right.apl"
                },
                {
                    "match": "\u03c7",
                    "name": "constant.language.lambda.arguments.axis.apl"
                },
                {
                    "match": "\u2207\u2207",
                    "name": "constant.language.lambda.operands.self.operator.apl"
                },
                {
                    "match": "\u2207",
                    "name": "constant.language.lambda.operands.self.function.apl"
                },
                {
                    "match": "\u03bb",
                    "name": "constant.language.lambda.symbol.apl"
                }
            ]
        },
        "sysvars": {
            "patterns": [
                {
                    "match": "(?:(\u2395)|(\u235e))[A-Za-z]*",
                    "name": "support.system.variable.apl",
                    "captures": {
                        "1": {
                            "name": "punctuation.definition.quad.apl"
                        },
                        "2": {
                            "name": "punctuation.definition.quad-quote.apl"
                        }
                    }
                }
            ]
        },
        "command-arguments": {
            "patterns": [
                {
                    "name": "variable.parameter.argument.apl",
                    "begin": "\\b(?=\\S)",
                    "end": "\\b(?=\\s)",
                    "patterns": [
                        {
                            "include": "#main"
                        }
                    ]
                }
            ]
        },
        "command-switches": {
            "patterns": [
                {
                    "name": "variable.parameter.switch.apl",
                    "begin": "(?x)\n(?<=\\s)(-)\n(\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n)\n(=)",
                    "end": "\\b(?=\\s)",
                    "beginCaptures": {
                        "1": {
                            "name": "punctuation.delimiter.switch.apl"
                        },
                        "2": {
                            "name": "entity.name.switch.apl"
                        },
                        "3": {
                            "name": "punctuation.assignment.switch.apl"
                        }
                    },
                    "patterns": [
                        {
                            "include": "#main"
                        }
                    ]
                },
                {
                    "name": "variable.parameter.switch.apl",
                    "match": "(?x)\n(?<=\\s)(-)\n(\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n)\n(?!=)",
                    "captures": {
                        "1": {
                            "name": "punctuation.delimiter.switch.apl"
                        },
                        "2": {
                            "name": "entity.name.switch.apl"
                        }
                    }
                }
            ]
        },
        "sck": {
            "patterns": [
                {
                    "name": "keyword.control.sck.apl",
                    "match": "(?<=\\s|^)(:)[A-Za-z]+",
                    "captures": {
                        "1": {
                            "name": "punctuation.definition.sck.begin.apl"
                        }
                    }
                }
            ]
        },
        "class": {
            "patterns": [
                {
                    "begin": "(?x)\n(?<=\\s|^)\n((:)Class)\n\\s+\n(\n\t'[^']*'?\n\t|\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n)\n\\s*\n(\n\t(:)\n\t\\s*\n\t(?:\n\t\t(\n\t\t\t'[^']*'?\n\t\t\t|\n\t\t\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t\t\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n\t\t)\n\t\t\\s*\n\t)?\n)?\n(.*?)$",
                    "end": "(?<=\\s|^)((:)EndClass)(?=\\b)",
                    "beginCaptures": {
                        "0": {
                            "name": "meta.class.apl"
                        },
                        "1": {
                            "name": "keyword.control.class.apl"
                        },
                        "2": {
                            "name": "punctuation.definition.class.apl"
                        },
                        "3": {
                            "name": "entity.name.type.class.apl",
                            "patterns": [
                                {
                                    "include": "#strings"
                                }
                            ]
                        },
                        "4": {
                            "name": "entity.other.inherited-class.apl"
                        },
                        "5": {
                            "name": "punctuation.separator.inheritance.apl"
                        },
                        "6": {
                            "patterns": [
                                {
                                    "include": "#strings"
                                }
                            ]
                        },
                        "7": {
                            "name": "entity.other.class.interfaces.apl",
                            "patterns": [
                                {
                                    "include": "#csv"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "1": {
                            "name": "keyword.control.class.apl"
                        },
                        "2": {
                            "name": "punctuation.definition.class.apl"
                        }
                    },
                    "patterns": [
                        {
                            "name": "meta.field.apl",
                            "begin": "(?<=\\s|^)(:)Field(?=\\s)",
                            "end": "\\s*(\u2190.*)?(?:$|(?=\u235d))",
                            "beginCaptures": {
                                "0": {
                                    "name": "keyword.control.field.apl"
                                },
                                "1": {
                                    "name": "punctuation.definition.field.apl"
                                }
                            },
                            "endCaptures": {
                                "0": {
                                    "name": "entity.other.initial-value.apl"
                                },
                                "1": {
                                    "patterns": [
                                        {
                                            "include": "#main"
                                        }
                                    ]
                                }
                            },
                            "patterns": [
                                {
                                    "name": "storage.modifier.access.public.apl",
                                    "match": "(?<=\\s|^)Public(?=\\s|$)"
                                },
                                {
                                    "name": "storage.modifier.access.private.apl",
                                    "match": "(?<=\\s|^)Private(?=\\s|$)"
                                },
                                {
                                    "name": "storage.modifier.shared.apl",
                                    "match": "(?<=\\s|^)Shared(?=\\s|$)"
                                },
                                {
                                    "name": "storage.modifier.instance.apl",
                                    "match": "(?<=\\s|^)Instance(?=\\s|$)"
                                },
                                {
                                    "name": "storage.modifier.readonly.apl",
                                    "match": "(?<=\\s|^)ReadOnly(?=\\s|$)"
                                },
                                {
                                    "name": "entity.name.type.apl",
                                    "match": "(?x)\n(\n\t'[^']*'?\n\t|\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf]\n\t[A-Z_a-z\u00c0-\u00d6\u00d8-\u00dd\u00df\u00e0-\u00f6\u00f8-\u00fc\u00fe\u2206\u2359\u24b6-\u24cf\u00af0-9]*\n)",
                                    "captures": {
                                        "1": {
                                            "patterns": [
                                                {
                                                    "include": "#strings"
                                                }
                                            ]
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "include": "$self"
                        }
                    ]
                }
            ]
        },
        "csv": {
            "patterns": [
                {
                    "match": ",",
                    "name": "punctuation.separator.apl"
                },
                {
                    "include": "$self"
                }
            ]
        },
        "heredocs": {
            "patterns": [
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")((?i).*?HTML?.*?|END-OF-\u2395INP)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "contentName": "text.embedded.html.basic",
                    "patterns": [
                        {
                            "include": "text.html.basic"
                        },
                        {
                            "include": "#embedded-apl"
                        }
                    ]
                },
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")((?i).*?(?:XML|XSLT|SVG|RSS).*?)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "contentName": "text.embedded.xml",
                    "patterns": [
                        {
                            "include": "text.xml"
                        },
                        {
                            "include": "#embedded-apl"
                        }
                    ]
                },
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")((?i).*?(?:CSS|stylesheet).*?)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "contentName": "source.embedded.css",
                    "patterns": [
                        {
                            "include": "source.css"
                        },
                        {
                            "include": "#embedded-apl"
                        }
                    ]
                },
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")((?i).*?(?:JS(?!ON)|(?:ECMA|J|Java).?Script).*?)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "contentName": "source.embedded.js",
                    "patterns": [
                        {
                            "include": "source.js"
                        },
                        {
                            "include": "#embedded-apl"
                        }
                    ]
                },
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")((?i).*?(?:JSON).*?)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "contentName": "source.embedded.json",
                    "patterns": [
                        {
                            "include": "source.json"
                        },
                        {
                            "include": "#embedded-apl"
                        }
                    ]
                },
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")(?i)((?:Raw|Plain)?\\s*Te?xt)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "contentName": "text.embedded.plain",
                    "patterns": [
                        {
                            "include": "#embedded-apl"
                        }
                    ]
                },
                {
                    "name": "meta.heredoc.apl",
                    "begin": "^.*?\u2395INP\\s+('|\")(.*?)\\1.*$",
                    "end": "^.*?\\2.*?$",
                    "beginCaptures": {
                        "0": {
                            "patterns": [
                                {
                                    "include": "#main"
                                }
                            ]
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "constant.other.apl"
                        }
                    },
                    "patterns": [
                        {
                            "include": "$self"
                        }
                    ]
                }
            ]
        },
        "embedded-apl": {
            "patterns": [
                {
                    "name": "meta.embedded.block.apl",
                    "begin": "(?i)(<(\\?|%)(?:apl(?=\\s+)|=))",
                    "end": "(?<=\\s)(\\2>)",
                    "patterns": [
                        {
                            "include": "#main"
                        }
                    ],
                    "beginCaptures": {
                        "1": {
                            "name": "punctuation.section.embedded.begin.apl"
                        }
                    },
                    "endCaptures": {
                        "1": {
                            "name": "punctuation.section.embedded.end.apl"
                        }
                    }
                }
            ]
        }
    }
}
